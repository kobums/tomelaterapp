# í—¬ìŠ¤ì¥ ê´€ë¦¬ í”Œë«í¼ - ê°œë°œ ê³„íšì„œ

> ì´ ë¬¸ì„œëŠ” ë°±ì—”ë“œ(gymspring) API ë¶„ì„ì„ ê¸°ë°˜ìœ¼ë¡œ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ êµ¬í˜„ ê°€ëŠ¥í•œ ê¸°ëŠ¥ë“¤ì„ ì •ë¦¬í•œ ê²ƒì…ë‹ˆë‹¤.

---

## í˜„ì¬ êµ¬í˜„ ìƒíƒœ

### âœ… êµ¬í˜„ ì™„ë£Œ

| ì˜ì—­ | í˜ì´ì§€ | ì„¤ëª… |
|------|--------|------|
| ì¸ì¦ | LoginPage, SignupPage | ë¡œê·¸ì¸/íšŒì›ê°€ì… |
| ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ | AdminDashboard | í™œì„±íšŒì›, ì˜¤ëŠ˜ì¶œì„, ë§Œë£Œì„ë°• í†µê³„ |
| íšŒì› ê´€ë¦¬ | MemberManagement, MemberForm | íšŒì› ëª©ë¡/ë“±ë¡/ìˆ˜ì • |
| íŠ¸ë ˆì´ë„ˆ ê´€ë¦¬ | TrainerManagement, TrainerForm | íŠ¸ë ˆì´ë„ˆ ëª©ë¡/ë“±ë¡/ìˆ˜ì • |
| ìš´ë™ìƒí’ˆ ê´€ë¦¬ | HealthManagement, HealthForm | ìƒí’ˆ CRUD |
| ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ | HealthCategoryManager | í—¬ìŠ¤/PT/ìš”ê°€ ë“± ì¹´í…Œê³ ë¦¬ |
| í• ì¸ ê´€ë¦¬ | DiscountManagement, DiscountForm | í• ì¸ ì •ì±… CRUD |
| ì´ìš©ê¸°ê°„ ê´€ë¦¬ | TermManagement | 1/3/6/12ê°œì›” ê¸°ê°„ ì„¤ì • |
| ì¶œì„ ê´€ë¦¬ | AttendanceManagement | ì¶œì… ê¸°ë¡ ì¡°íšŒ |
| ê²°ì œ ê´€ë¦¬ | PaymentManagement | ê²°ì œ ë‚´ì—­ ì¡°íšŒ |
| ìš´ë™ê¸°ë¡ ê´€ë¦¬ | WorkoutLogManagement | ì´ìš©ê¶Œ ì‚¬ìš© ë‚´ì—­ |
| íšŒì› ëŒ€ì‹œë³´ë“œ | MemberDashboard | QRì½”ë“œ, ì´ìš©ê¶Œ, ì¶œì„, PTì˜ˆì•½ |
| íšŒì› ê²°ì œë‚´ì—­ | PaymentHistory | íšŒì›ìš© ê²°ì œ ì´ë ¥ |

---

## ğŸš€ êµ¬í˜„ ê°€ëŠ¥í•œ ì‹ ê·œ ê¸°ëŠ¥ (ë°±ì—”ë“œ API ì¤€ë¹„ ì™„ë£Œ)

### 1. PT ì˜ˆì•½ ê´€ë¦¬ ì‹œìŠ¤í…œ â­ í•µì‹¬ ê¸°ëŠ¥

**ë°±ì—”ë“œ API**: `/api/ptreservation`, `/api/trainermember`

**ê´€ë¦¬ì/íŠ¸ë ˆì´ë„ˆ í™”ë©´ (ì‹ ê·œ)**
- [ ] PT ì˜ˆì•½ í˜„í™© ëŒ€ì‹œë³´ë“œ (`/admin/pt-reservations`)
  - ì˜¤ëŠ˜/ì´ë²ˆì£¼ PT ìŠ¤ì¼€ì¤„ ìº˜ë¦°ë” ë·°
  - íŠ¸ë ˆì´ë„ˆë³„ ì˜ˆì•½ í˜„í™©
  - ì˜ˆì•½ ìƒíƒœ: RESERVED â†’ APPROVED â†’ COMPLETED/CANCELLED/NOSHOW
  - ì˜ˆì•½ ìŠ¹ì¸/ê±°ì ˆ/ì™„ë£Œ/ë…¸ì‡¼ ì²˜ë¦¬
  - **ê¶Œí•œ**: ê´€ë¦¬ì(ì „ì²´), íŠ¸ë ˆì´ë„ˆ(ë³¸ì¸ ì˜ˆì•½ë§Œ)
- [ ] íŠ¸ë ˆì´ë„ˆ-íšŒì› ë°°ì • ê´€ë¦¬ (`/admin/trainer-assignments`)
  - íŠ¸ë ˆì´ë„ˆì—ê²Œ íšŒì› ë°°ì •
  - ë°°ì • í˜„í™© ëª©ë¡
  - **ê¶Œí•œ**: ê´€ë¦¬ì ì „ìš©

**íšŒì› í™”ë©´ (ê¸°ëŠ¥ ê°•í™”)**
- [ ] PT ì˜ˆì•½ ì‹ ì²­ (`/member/pt/book`)
  - íŠ¸ë ˆì´ë„ˆ ì„ íƒ
  - ë‚ ì§œ/ì‹œê°„ ì„ íƒ
  - ì˜ˆì•½ ìš”ì²­ ì œì¶œ
- [ ] ë‚´ PT ì˜ˆì•½ ëª©ë¡ (`/member/pt/my-reservations`)
  - ì˜ˆì•½ ìƒíƒœ í™•ì¸
  - ì˜ˆì•½ ì·¨ì†Œ ê¸°ëŠ¥

**íŠ¸ë ˆì´ë„ˆ ì „ìš© í™”ë©´ (ì‹ ê·œ ê°œë°œ í•„ìš”)**
- [ ] íŠ¸ë ˆì´ë„ˆ ëŒ€ì‹œë³´ë“œ (`/trainer/dashboard`)
  - ì˜¤ëŠ˜ì˜ PT ìŠ¤ì¼€ì¤„ (ê°„ëµ ë·°)
  - ë‹´ë‹¹ íšŒì› ëª©ë¡
  - ìµœê·¼ ì˜ˆì•½ ìš”ì²­ ì•Œë¦¼
- [ ] ë‚´ PT ìŠ¤ì¼€ì¤„ ê´€ë¦¬ (`/trainer/schedule`)
  - ì£¼ê°„/ì›”ê°„ ìº˜ë¦°ë” ë·°
  - ê°€ëŠ¥ ì‹œê°„ëŒ€ ì„¤ì •
- [ ] íšŒì› ì²´ì„±ë¶„ ì…ë ¥ (`/trainer/members/:id/body`)
  - ë‹´ë‹¹ íšŒì› ì²´ì„±ë¶„ ì¸¡ì •/ê¸°ë¡

> **ì°¸ê³ **: PT ì˜ˆì•½ ìŠ¹ì¸/ê±°ì ˆì€ `/admin/pt-reservations`ì—ì„œ íŠ¸ë ˆì´ë„ˆ ê¶Œí•œìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥

---

### 2. ì²´ì„±ë¶„ ì¸¡ì • ê´€ë¦¬ â­ í•µì‹¬ ê¸°ëŠ¥

**ë°±ì—”ë“œ API**: `/api/memberbody`

**ê´€ë¦¬ì/íŠ¸ë ˆì´ë„ˆ í™”ë©´**
- [ ] íšŒì› ì²´ì„±ë¶„ ì…ë ¥ í¼
  - í‚¤, ì²´ì¤‘, ì²´ì§€ë°©ë¥ , ê·¼ìœ¡ëŸ‰, BMI
  - ê³¨ê²©ê·¼ëŸ‰, ì²´ìˆ˜ë¶„, ê°€ìŠ´/í—ˆë¦¬/ì—‰ë©ì´/íŒ”/í—ˆë²…ì§€ ë‘˜ë ˆ
  - ì¸¡ì •ì¼, ì¸¡ì •ì(íŠ¸ë ˆì´ë„ˆ) ê¸°ë¡

**íšŒì› í™”ë©´**
- [ ] ë‚´ ì²´ì„±ë¶„ ë³€í™” ì¶”ì  (`/member/body-records`)
  - ì¸¡ì • ì´ë ¥ ëª©ë¡
  - ë³€í™” ê·¸ë˜í”„ (ì²´ì¤‘, ì²´ì§€ë°©ë¥ , ê·¼ìœ¡ëŸ‰ ì¶”ì´)
  - ëª©í‘œ ëŒ€ë¹„ ì§„í–‰ë¥ 

---

### 3. ê³µì§€ì‚¬í•­ ê´€ë¦¬

**ë°±ì—”ë“œ API**: `/api/notice`

**ê´€ë¦¬ì í™”ë©´**
- [ ] ê³µì§€ì‚¬í•­ ê´€ë¦¬ (`/admin/notices`)
  - ê³µì§€ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ
  - ëŒ€ìƒ ì„¤ì •: ALL / MEMBER / TRAINER
  - íŒì—… ì—¬ë¶€, í‘¸ì‹œ ë°œì†¡ ì—¬ë¶€
  - ê³µê°œ ê¸°ê°„ ì„¤ì • (ì‹œì‘ì¼~ì¢…ë£Œì¼)
  - ì¡°íšŒìˆ˜ í™•ì¸

**íšŒì›/íŠ¸ë ˆì´ë„ˆ í™”ë©´**
- [ ] ê³µì§€ì‚¬í•­ ëª©ë¡ (`/notices`)
- [ ] ê³µì§€ì‚¬í•­ ìƒì„¸ (`/notices/:id`)
- [ ] íŒì—… ê³µì§€ ìë™ í‘œì‹œ

---

### 4. ë¬¸ì˜ ê´€ë¦¬

**ë°±ì—”ë“œ API**: `/api/inquiry`

**ê´€ë¦¬ì í™”ë©´**
- [ ] ë¬¸ì˜ ëª©ë¡ ë° ë‹µë³€ (`/admin/inquiries`)
  - ë¯¸ë‹µë³€/ë‹µë³€ì™„ë£Œ í•„í„°
  - ë‹µë³€ ì‘ì„±

**íšŒì› í™”ë©´**
- [ ] ë¬¸ì˜í•˜ê¸° (`/member/inquiry/new`)
- [ ] ë‚´ ë¬¸ì˜ ë‚´ì—­ (`/member/inquiries`)

---

### 5. íšŒì›ê¶Œ ì¼ì‹œì •ì§€ (Stop)

**ë°±ì—”ë“œ API**: `/api/stop`

**ê´€ë¦¬ì í™”ë©´**
- [ ] íšŒì›ê¶Œ ì¼ì‹œì •ì§€ ê´€ë¦¬
  - ì •ì§€ ì‹ ì²­ ëª©ë¡
  - ì •ì§€ ìŠ¹ì¸/ê±°ì ˆ
  - ì •ì§€ ê¸°ê°„ ì„¤ì •

**íšŒì› í™”ë©´**
- [ ] íšŒì›ê¶Œ ì¼ì‹œì •ì§€ ì‹ ì²­ (`/member/membership/pause`)
  - ì •ì§€ ì‚¬ìœ  ì…ë ¥
  - í¬ë§ ê¸°ê°„ ì„ íƒ

---

### 6. ì•Œë¦¼/í‘¸ì‹œ ê´€ë¦¬

**ë°±ì—”ë“œ API**: `/api/alarm`, `/api/pushtoken`, `/api/notificationsetting`

**ê´€ë¦¬ì í™”ë©´**
- [ ] ì•Œë¦¼ ë°œì†¡ ê´€ë¦¬ (`/admin/notifications`)
  - ëŒ€ìƒ íšŒì› ì„ íƒ
  - ì•Œë¦¼ ìœ í˜•: NOTICE/WARNING/INFO
  - ë°œì†¡ ì´ë ¥ ì¡°íšŒ

**íšŒì› í™”ë©´**
- [ ] ì•Œë¦¼ ì„¤ì • (`/member/settings/notifications`)
  - í‘¸ì‹œ ì•Œë¦¼ ON/OFF
  - ì•Œë¦¼ ìœ í˜•ë³„ ì„¤ì •
- [ ] ì•Œë¦¼ ëª©ë¡ (`/member/notifications`)

---

### 7. í—¬ìŠ¤ì¥ ì„¤ì • ê´€ë¦¬

**ë°±ì—”ë“œ API**: `/api/gym`, `/api/setting`, `/api/daytype`

**ê´€ë¦¬ì í™”ë©´**
- [ ] í—¬ìŠ¤ì¥ ì •ë³´ ìˆ˜ì • (`/admin/gym/settings`)
  - ì´ë¦„, ì£¼ì†Œ, ì—°ë½ì²˜, ìš´ì˜ì‹œê°„
  - ë¡œê³ /ì´ë¯¸ì§€ ì—…ë¡œë“œ
- [ ] ìš”ì¼ ìœ í˜• ê´€ë¦¬ (í‰ì¼/ì£¼ë§/ê³µíœ´ì¼)
  - ìš”ì¼ë³„ ìš´ì˜ì‹œê°„ ì„¤ì •
  - ìš”ì¼ë³„ ê°€ê²© ì°¨ë“± ì ìš©

---

### 8. ë½ì»¤ ê´€ë¦¬

**ë°±ì—”ë“œ API**: (ì¶”ê°€ í•„ìš” - í˜„ì¬ ë¯¸êµ¬í˜„)

> ë°±ì—”ë“œì— rocker_tb, rockerusage_tb í…Œì´ë¸”ì´ ìˆìœ¼ë‚˜ API ë¯¸í™•ì¸
> í•„ìš”ì‹œ ë°±ì—”ë“œ API ì¶”ê°€ ê°œë°œ í›„ í”„ë¡ íŠ¸ êµ¬í˜„

- [ ] ë½ì»¤ ë“±ë¡/ê´€ë¦¬
- [ ] ë½ì»¤ ë°°ì •
- [ ] ë½ì»¤ ì´ìš© í˜„í™©

---

### 9. ì •ì‚° ê´€ë¦¬

**ë°±ì—”ë“œ API**: (ì¶”ê°€ í•„ìš”)

> settlement_tb ê´€ë ¨ API í•„ìš”

- [ ] ì¼ë³„/ì›”ë³„ ë§¤ì¶œ í˜„í™©
- [ ] ê²°ì œìˆ˜ë‹¨ë³„ ì§‘ê³„
- [ ] ì·¨ì†Œ/í™˜ë¶ˆ ë‚´ì—­
- [ ] ì •ì‚° ë³´ê³ ì„œ ì¶œë ¥

---

### 10. ë¡œê·¸ì¸/ë³´ì•ˆ ê´€ë¦¬

**ë°±ì—”ë“œ API**: `/api/loginlog`, `/api/ipblock`

**ê´€ë¦¬ì í™”ë©´**
- [ ] ë¡œê·¸ì¸ ë¡œê·¸ ì¡°íšŒ (`/admin/logs/login`)
  - IP, ì‹œê°„, ì‚¬ìš©ìë³„ í•„í„°
- [ ] IP ì°¨ë‹¨ ê´€ë¦¬ (`/admin/security/ip-block`)
  - ì°¨ë‹¨ IP ë“±ë¡/í•´ì œ

---

### 11. ì•± ë²„ì „ ê´€ë¦¬ (í”Œë«í¼ ê´€ë¦¬ììš©)

**ë°±ì—”ë“œ API**: `/api/appversion`

- [ ] ì•± ë²„ì „ ë“±ë¡
- [ ] ê°•ì œ ì—…ë°ì´íŠ¸ ì„¤ì •
- [ ] ë²„ì „ë³„ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸

---

## ğŸ“‹ ìš°ì„ ìˆœìœ„ ì œì•ˆ

### Phase 1: í•µì‹¬ ìš´ì˜ ê¸°ëŠ¥ (1-2ì£¼)
1. **PT ì˜ˆì•½ ê´€ë¦¬** - í—¬ìŠ¤ì¥ í•µì‹¬ ìˆ˜ìµ ê¸°ëŠ¥
2. **ì²´ì„±ë¶„ ì¸¡ì •** - PT ì„œë¹„ìŠ¤ í•µì‹¬ ê°€ì¹˜
3. **íŠ¸ë ˆì´ë„ˆ ëŒ€ì‹œë³´ë“œ** - íŠ¸ë ˆì´ë„ˆ ì—…ë¬´ ì§€ì›

### Phase 2: ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ (1ì£¼)
4. **ê³µì§€ì‚¬í•­ ê´€ë¦¬** - íšŒì› ì†Œí†µ
5. **ë¬¸ì˜ ê´€ë¦¬** - ê³ ê° ì§€ì›
6. **ì•Œë¦¼ ê´€ë¦¬** - ì‹¤ì‹œê°„ ì•Œë¦¼

### Phase 3: ë¶€ê°€ ê¸°ëŠ¥ (1ì£¼)
7. **íšŒì›ê¶Œ ì¼ì‹œì •ì§€** - ìœ ì—°í•œ íšŒì›ê¶Œ ê´€ë¦¬
8. **í—¬ìŠ¤ì¥ ì„¤ì •** - ê¸°ë³¸ ì •ë³´ ê´€ë¦¬
9. **ë¡œê·¸ì¸/ë³´ì•ˆ** - ê´€ë¦¬ì ë³´ì•ˆ ê¸°ëŠ¥

### Phase 4: í™•ì¥ ê¸°ëŠ¥ (í•„ìš”ì‹œ)
10. ë½ì»¤ ê´€ë¦¬ (ë°±ì—”ë“œ API ê°œë°œ í•„ìš”)
11. ì •ì‚° ê´€ë¦¬ (ë°±ì—”ë“œ API ê°œë°œ í•„ìš”)
12. ì•± ë²„ì „ ê´€ë¦¬ (í”Œë«í¼ ê´€ë¦¬ì ì „ìš©)

---

## ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­

### í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ ì‹œ ì£¼ì˜ì‚¬í•­

1. **ë‹¤ì¤‘ í—¬ìŠ¤ì¥ ì§€ì›**
   - ëª¨ë“  API í˜¸ì¶œ ì‹œ `gymId` íŒŒë¼ë¯¸í„° í•„ìˆ˜
   - `selectedGymIdAtom` í™œìš©

2. **ê¶Œí•œ ì²´í¬**
   - ê´€ë¦¬ì(role=4): ëª¨ë“  ê´€ë¦¬ ê¸°ëŠ¥
   - íŠ¸ë ˆì´ë„ˆ(role=2): PT ì˜ˆì•½ ê´€ë¦¬(ë³¸ì¸), ë‹´ë‹¹ íšŒì› ì²´ì„±ë¶„ ì…ë ¥, ìŠ¤ì¼€ì¤„ ê´€ë¦¬
   - íšŒì›(role=1): ë³¸ì¸ ë°ì´í„°ë§Œ

   ```typescript
   // ê¶Œí•œë³„ ì ‘ê·¼ ê°€ëŠ¥ í˜ì´ì§€ ì˜ˆì‹œ
   const canAccessPTReservations = (user) =>
     user.role === UserModel.role.GYM_ADMIN ||
     user.role === UserModel.role.TRAINER;
   ```

3. **API ì‘ë‹µ í˜•ì‹**
   ```typescript
   // ëª©ë¡ ì¡°íšŒ
   { content: T[], page, pageSize, totalElements, totalPages }

   // ë‹¨ê±´ ì¡°íšŒ
   { item: T }
   ```

4. **ìƒíƒœ ê´€ë¦¬**
   - Jotai í™œìš©
   - í•„ìš”ì‹œ React Query ë„ì… ê³ ë ¤ (ìºì‹±, ìë™ ê°±ì‹ )

---

## ë°±ì—”ë“œ API ì¶”ê°€ ê°œë°œ í•„ìš” ëª©ë¡

| ê¸°ëŠ¥ | ì—”í‹°í‹° | ë¹„ê³  |
|------|--------|------|
| ë½ì»¤ ê´€ë¦¬ | rocker_tb, rockerusage_tb | API ë¯¸í™•ì¸ |
| ì •ì‚° ê´€ë¦¬ | settlement_tb | API ë¯¸í™•ì¸ |
| ì‹œê°„ëŒ€ë³„ ê°€ê²© | timeslot_tb | API ë¯¸í™•ì¸ |

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025ë…„ 1ì›”*
